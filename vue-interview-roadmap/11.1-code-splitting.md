# 11.1 How do you manage code splitting and lazy loading in Vue?

## Quick Revision
- Use dynamic imports and async components to load code on demand, reducing initial bundle size.
- Vue Router supports lazy loading via route-level dynamic imports and prefetching strategies.
- Analyze bundles with tools (Vite `--mode analyze`, webpack-bundle-analyzer) and group chunks intelligently.

## Detailed Explanation
### Dynamic Imports
`import('./Component.vue')` returns a promise that bundlers split into separate chunks. Combined with `defineAsyncComponent`, components load only when needed. Use webpack magic comments (`/* webpackChunkName: "group-admin" */`) or Vite’s `?inline`/`?raw` modifiers to control bundling.

### Routing Integration
For routes, define `component: () => import('./views/Admin.vue')`. Vue Router loads the chunk when the route is visited. Pair with route-level guards or `Suspense` for loading indicators. Prefetch critical routes using `<link rel="prefetch">` or service workers.

### Optimization
Group related components to avoid excessive chunking. Monitor bundle sizes with analyzers and configure cache-busting filenames. For shared dependencies, let bundler extract vendor chunks. Consider dynamic `import.meta.glob` in Vite for auto-generated routes.

## Code Example
```js
const routes = [
  {
    path: '/reports',
    component: () => import(/* webpackChunkName: "reports" */ './views/Reports.vue'),
  },
];
```

## Resources
- [Vue.js Docs – Async Components](https://vuejs.org/guide/components/async.html) – covers dynamic imports and Suspense.
- [Vue Router Docs – Lazy Loading](https://router.vuejs.org/guide/advanced/lazy-loading.html) – route-level code splitting.
- [Vite Guide – Dynamic Imports](https://vitejs.dev/guide/features.html#dynamic-import) – bundling behavior and glob imports.
