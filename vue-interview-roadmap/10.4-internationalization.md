# 10.4 How do you handle internationalization in Vue (vue-i18n)?

## Quick Revision
- `vue-i18n` manages translations, locale switching, pluralization, and message formatting.
- Configure the i18n plugin with locale messages and use the `$t` function or `useI18n` composable in components.
- Support lazy-loaded locales, number/date formatting, and fallback locales for missing keys.

## Detailed Explanation
### Setup
Install `vue-i18n`, create an i18n instance with messages, and register it on the app. Define fallback locales and message structure (nested objects). Use JSON, YAML, or lazy-loaded message files for larger apps.

### Usage in Components
In Options API, call `this.$t('greeting')`; in Composition API, use `const { t, locale } = useI18n()`. For dynamic parameters, pass objects (`t('invite', { name })`). Pluralization uses ICU syntax (`{count, plural, one {# item} other {# items}}`).

### Advanced Features
Lazy load locales via dynamic imports to reduce bundle size. Use `datetimeFormats` and `numberFormats` for localization. Manage locale persistence via cookies/localStorage. Combine with `vue-router` to localize routes.

## Code Example
```js
// i18n.js
import { createI18n } from 'vue-i18n';

export const i18n = createI18n({
  locale: 'en',
  fallbackLocale: 'en',
  messages: {
    en: { hello: 'Hello {name}!' },
    fr: { hello: 'Bonjour {name} !' },
  },
});
```
```vue
<script setup>
import { useI18n } from 'vue-i18n';

const { t, locale } = useI18n();
</script>

<template>
  <p>{{ t('hello', { name: 'Chloé' }) }}</p>
  <button @click="locale.value = locale.value === 'en' ? 'fr' : 'en'">Switch</button>
</template>
```

## Resources
- [vue-i18n Documentation](https://vue-i18n.intlify.dev/) – plugin setup, ICU syntax, formatting.
- [Intlify Guide – Lazy Loading](https://vue-i18n.intlify.dev/guide/advanced/lazy.html) – loading locales on demand.
- [Nuxt i18n Module](https://i18n.nuxtjs.org/) – integration for Nuxt-based apps with routing.
