# 4.2 How do mixins differ from the Composition API?

## Quick Revision
- Mixins merge properties into components, risking namespace collisions and unclear data flow.
- Composition API uses functions (composables) that return reactive values, offering explicit imports and reusable logic without merging.
- Composition API improves TypeScript support, tree-shaking, and traceability compared with mixins.

## Detailed Explanation
### Mixins
Mixins are reusable option objects whose properties merge into the component. Conflicts are resolved with merge strategies (methods override, data merged). While convenient, mixins hide dependencies, make tracing origins harder, and can cause naming collisions. Multiple mixins can lead to tight coupling and implicit behavior.

### Composition API
Composables are plain functions called inside `setup()` that return reactive state and functions. Dependencies are explicit via imports, and returned values are destructured intentionally, eliminating collisions. You can parameterize composables, share reactive instances, and manage lifecycle hooks inside them.

### Migration Considerations
In Vue 3, mixins are still supported but discouraged for large-scale reuse. Converting to composables enhances tree-shaking and TypeScript type inference, since the returned values are typed. Devtools also show composable traces, making debugging easier.

## Code Example
```js
// useMouse.js composable
import { ref, onMounted, onBeforeUnmount } from 'vue';

export function useMouse() {
  const x = ref(0);
  const y = ref(0);

  function update(event) {
    x.value = event.pageX;
    y.value = event.pageY;
  }

  onMounted(() => window.addEventListener('mousemove', update));
  onBeforeUnmount(() => window.removeEventListener('mousemove', update));

  return { x, y };
}
```
Compared with a mixin, `useMouse` exposes its API explicitly and avoids merging lifecycle hooks implicitly.

## Resources
- [Vue.js Docs – Mixins](https://vuejs.org/guide/reusability/mixins.html) – explains limitations and migration advice.
- [Vue.js Docs – Composables](https://vuejs.org/guide/reusability/composables.html) – demonstrates Composition API reuse patterns.
- [Vue RFC – Function-based API](https://github.com/vuejs/rfcs/pull/42) – motivation for replacing mixins with composables.
