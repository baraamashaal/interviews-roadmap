# 7.1 How do you handle error boundaries in Vue?

## Quick Revision
- Vue uses the `errorCaptured` hook (Options API) or `onErrorCaptured` (Composition API) to catch errors from child components.
- You can render fallback UI by returning `false` (prevent propagation) and setting local state.
- Global error handlers (`app.config.errorHandler`) capture uncaught errors for logging.

## Detailed Explanation
### Component-Level Error Capturing
`errorCaptured(err, instance, info)` fires when a descendant throws during render, lifecycle, or event handler. Returning `false` stops the error from bubbling further. Use this to swap in fallback UI or report telemetry. In Composition API, call `onErrorCaptured` inside `setup()`.

### Global Handlers
Set `app.config.errorHandler = (err, instance, info) => { ... }` to catch errors application-wide. Combine with logging services (Sentry) and display notifications. `app.config.warnHandler` can intercept warnings.

### Async & Suspense
For async components and Suspense, rejection errors trigger `onErrorCaptured` or the fallback slot. Wrap potentially failing code in try/catch to provide user feedback.

## Code Example
```vue
<script setup>
import { ref, onErrorCaptured } from 'vue';

const failed = ref(false);

onErrorCaptured((err) => {
  failed.value = true;
  console.error('Child error', err);
  return false; // prevent further propagation
});
</script>

<template>
  <div v-if="failed">Something went wrong.</div>
  <ChildComponent v-else />
</template>
```

## Resources
- [Vue.js Docs – Error Handling](https://vuejs.org/guide/best-practices/handling-errors.html) – explains `errorCaptured` and global handlers.
- [Vue.js API – app.config.errorHandler](https://vuejs.org/api/application.html#app-config-errorhandler) – application-level error handling.
- [Sentry Vue SDK](https://docs.sentry.io/platforms/javascript/guides/vue/) – practical integration for logging captured errors.
